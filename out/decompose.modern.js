const e=Symbol(),t=Symbol(),r=Symbol(),s=Symbol(),n=Symbol(),o=Symbol(),l=Symbol();class a{constructor(r){return this[t]={},this[e]=r,Object.seal(this),this}[r](){Object.getOwnPropertySymbols(this[t]).forEach(r=>this[t][r](this[e]))}[s](e){this[t][e.id]=e}[n](e){delete this[t][e.id]}valueOf(){return this[e]}toString(){return this[e]}toLocaleString(){return this[e]}}function i(e,t=!1){var r=i.$||(i.$={enumerable:t,writable:!1,configurable:!1,value:e});return r.value!==e&&(r.value=e),r}const c={e801(e,t){console.log(`TERROR-801::Attempted to use Object.defineProperty on ${e}, please use the default setter ('${e}.${t} = ') instead`)},e821(e){console.log(`TERROR-821::${e} is not a valid callback!`)}};class h{constructor(t){this.value=t[e];let r=e=>!!e.id||(c.e821(e),!1);return Object.defineProperty(this,"addObserver",i(e=>(r(e)&&t[s](e),this),!0)),Object.defineProperty(this,"deleteObserver",i(e=>(r(e)&&t[n](e),this),!0)),this}valueOf(){return this.value}toLocaleString(){return this.value}toString(){return this.value}}class u{static create(e,...t){return new u(e,t)}constructor(t,s){this.callbacks=new Proxy(Object.create(null),{defineProperty:(e,t)=>(c.e801("this.callbacks",t),!0),get:(e,t)=>e[t],set:(e,t,r)=>(r.id=Symbol(),Object.defineProperty(e,t,i(r,!0)),!0)}),this.observables=new Proxy(Object.create(null),{defineProperty:(e,t)=>(c.e801("this.observables",t),!0),get:(e,t)=>new h(e[t]),set:(t,s,n)=>(t[s]?t[s][e]=n:t[s]=new a(n),t[s][r](),!0)});let n=0;return this.properties={},console.log(s),s[0].forEach((e,t)=>{"string"==typeof e?this.properties[e]="":(this.properties[`cProp${n}`]="function"==typeof e?e():"object"==typeof e?e.$:e,s[0][t]=`cProp${n}`,n+=1)}),console.log(this.properties),this[l]=()=>function(e,t){return r=>{let s=e[0];return console.log(t),t[0].forEach((t,n)=>{s+=r[t]?r[t]:"",s+=e[n+1]}),s}}(t,s)(this.properties),this[o]=t,this}get name(){return this.Name}setName(e){return this.Name=e,customElements.define(`d-${this.Name}`,class extends HTMLElement{}),this.element=document.createElement(`d-${this.Name}`),this.elements={},function(e){let t=[...e.matchAll(/jayes-name=([a-zA-Z_$][a-zA-Z_$0-9]+)/g)],r=[];return t.forEach(e=>{r.push(e[1])}),r}(this[o].join(".")).forEach(e=>{Object.defineProperty(this.elements,e,{get:()=>this.element.querySelector(`[jayes-name="${e}"]`),set:()=>{},enumerable:!0,configurable:!1})}),this}setOnLoad(e){return this.onLoad=e,this}setCallbacks(e){return Object.entries(e).forEach(([e,t])=>{this.callbacks[e]=t}),this}setObservables(e){return Object.entries(e).forEach(([e,t])=>{this.observables[e]=t()}),this}}let b=Object.create(null);var p=new Proxy(b,{defineProperty:()=>{c.e821("componentsRegistry")},get:(e,t)=>e[t],set:()=>!0});let m={components:p,compose:function(e,...t){return r=>(r.lines=e,r.keys=t,b[r.name]=function(e){let t=u.create(e.lines,e.keys).setName(e.name);return e.onLoad&&t.setOnLoad(e.onLoad),e.callbacks&&t.setCallbacks(e.callbacks),e.observables&&t.setObservables(e.observables),e=>{let r={};Object.assign(r,t.properties),Object.entries(e).forEach(([e,r])=>{r&&(t.properties[e]=`${r}`)}),console.log(t.properties),t.element.innerHTML=t[l](),Object.assign(t.properties,r),console.log(t);let s={get callbacks(){return t.callbacks},setCallback:new Proxy(this.callbacks,{get:(e,t)=>r=>{let n=r.bind(s);e[t]=n}}),get observables(){return t.observables},get element(){return t.element},get elements(){return t.elements},get name(){return t.name},get onLoad(){return t.onLoad},get asProp(){let e=this.element.outerHTML;return e=e.replaceAll(/^</g,"").replaceAll(/>$/g,""),e},toString(){return this.asProp},toLocaleString(){return this.asProp},valueOf(){return this.asProp}}}}(r),p)}};export{m as de};
