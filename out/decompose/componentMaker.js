import{APPLY_PROPS}from"./consts.js";import{Template}from"./classes.js";export function componentMaker(e){let t=Template.create(e.lines,e.keys).setName(e.name);e.onLoad&&t.setOnLoad(e.onLoad),e.callbacks&&t.setCallbacks(e.callbacks),e.observables&&t.setObservables(e.observables);return e=>{let r={};Object.assign(r,t.properties),Object.entries(e).forEach((([e,r])=>{r&&(t.properties[e]=`${r}`)})),console.log(t.properties),t.element.innerHTML=t[APPLY_PROPS](),Object.assign(t.properties,r),console.log(t);let s={get callbacks(){return t.callbacks},setCallback:new Proxy(this.callbacks,{get:(e,t)=>r=>{let l=r.bind(s);e[t]=l}}),get observables(){return t.observables},get element(){return t.element},get elements(){return t.elements},get name(){return t.name},get onLoad(){return t.onLoad},get asProp(){let e=this.element.outerHTML;return e=e.replaceAll(/^</g,"").replaceAll(/>$/g,""),e},toString(){return this.asProp},toLocaleString(){return this.asProp},valueOf(){return this.asProp}}}}