import{VALUE,ADD,DELETE}from"../consts/symbols.js";import{withValue}from"../funcs.js";import{tError}from"../tError.js";export class ObservableValue{constructor(r){this.value=r[VALUE];let t=r=>!!r.id||(tError.e821(r),!1);return Object.defineProperty(this,"addObserver",withValue((e=>(t(e)&&r[ADD](e),this)),!0)),Object.defineProperty(this,"deleteObserver",withValue((e=>(t(e)&&r[DELETE](e),this)),!0)),this}valueOf(){return this.value}toLocaleString(){return this.value}toString(){return this.value}}